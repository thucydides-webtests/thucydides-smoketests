<story path="stories/earning_points/earning_extra_points_from_status.story" title="Earning extra points from Frequent Flyer status">
<meta>
<property keyword="@" name="issue" value="FH-12"/>
<property keyword="@" name="tag" value="component:backend"/>
</meta>
<scenario keyword="Scenario:" title="Earning points on flights by Frequent Flyer status">
<examples keyword="Examples:">
<step>Given a member has a status of &lt;initialStatus&gt;</step>
<step>When I fly on a flight that is worth &lt;base&gt; base points</step>
<step>Then I should earn a status bonus of &lt;bonus&gt;</step>
<step>And I should have guaranteed minimum earned points per trip of &lt;minimum&gt;</step>
<step>And I should earn &lt;total&gt; points in all</step>
<parameters>
<names><name>initialStatus</name><name>base</name><name>bonus</name><name>minimum</name><name>total</name><name>notes</name></names>
<values><value>Bronze</value><value>439</value><value>0</value><value>0</value><value>439</value><value></value></values>
<values><value>Silver</value><value>439</value><value>220</value><value>500</value><value>659</value><value>minimum points</value></values>
<values><value>Silver</value><value>148</value><value>111</value><value>500</value><value>500</value><value>50% bonus</value></values>
<values><value>Gold</value><value>474</value><value>400</value><value>1000</value><value>1000</value><value>minimum points</value></values>
<values><value>Gold</value><value>2041</value><value>1531</value><value>1000</value><value>3572</value><value>75% bonus</value></values>
</parameters>

<example keyword="Example:">{initialStatus=Bronze, base=439, bonus=0, minimum=0, total=439, notes=}</example>
<step outcome="successful">Given a member has a status of <parameter>Bronze</parameter></step>
<step outcome="successful">When I fly on a flight that is worth <parameter>439</parameter> base points</step>
<step outcome="successful">Then I should earn a status bonus of <parameter>0</parameter></step>
<step outcome="successful">And I should have guaranteed minimum earned points per trip of <parameter>0</parameter></step>
<step outcome="successful">And I should earn <parameter>439</parameter> points in all</step>

<example keyword="Example:">{initialStatus=Silver, base=439, bonus=220, minimum=500, total=659, notes=minimum points}</example>
<step outcome="successful">Given a member has a status of <parameter>Silver</parameter></step>
<step outcome="successful">When I fly on a flight that is worth <parameter>439</parameter> base points</step>
<step outcome="successful">Then I should earn a status bonus of <parameter>220</parameter></step>
<step outcome="successful">And I should have guaranteed minimum earned points per trip of <parameter>500</parameter></step>
<step outcome="successful">And I should earn <parameter>659</parameter> points in all</step>

<example keyword="Example:">{initialStatus=Silver, base=148, bonus=111, minimum=500, total=500, notes=50% bonus}</example>
<step outcome="successful">Given a member has a status of <parameter>Silver</parameter></step>
<step outcome="successful">When I fly on a flight that is worth <parameter>148</parameter> base points</step>
<step outcome="successful">Then I should earn a status bonus of <parameter>111</parameter></step>
<step outcome="successful">And I should have guaranteed minimum earned points per trip of <parameter>500</parameter></step>
<step outcome="successful">And I should earn <parameter>500</parameter> points in all</step>

<example keyword="Example:">{initialStatus=Gold, base=474, bonus=400, minimum=1000, total=1000, notes=minimum points}</example>
<step outcome="successful">Given a member has a status of <parameter>Gold</parameter></step>
<step outcome="successful">When I fly on a flight that is worth <parameter>474</parameter> base points</step>
<step outcome="successful">Then I should earn a status bonus of <parameter>400</parameter></step>
<step outcome="successful">And I should have guaranteed minimum earned points per trip of <parameter>1000</parameter></step>
<step outcome="successful">And I should earn <parameter>1000</parameter> points in all</step>

<example keyword="Example:">{initialStatus=Gold, base=2041, bonus=1531, minimum=1000, total=3572, notes=75% bonus}</example>
<step outcome="successful">Given a member has a status of <parameter>Gold</parameter></step>
<step outcome="successful">When I fly on a flight that is worth <parameter>2041</parameter> base points</step>
<step outcome="successful">Then I should earn a status bonus of <parameter>1531</parameter></step>
<step outcome="successful">And I should have guaranteed minimum earned points per trip of <parameter>1000</parameter></step>
<step outcome="successful">And I should earn <parameter>3572</parameter> points in all</step>
</examples>
</scenario>
</story>
